import models.db_book_model.Books;
import models.db_book_model.booksSchema;
import org.hibernate.exception.SQLGrammarException;


@Entity
@Table(name = "wishlist")
public class Wishlist {
    // Create DB fields
    @Id
    @Column(name = "Title", length = 300)
    private String Title;

    @Column(name = "Books", length = 300)
    private String Books;

    public Wishlist() {
    }

    public Wishlist(String Title, String Books) {
        this.Title = Title;
        this.Books = Books;
    }

    public String getTitle() {
        return Title;
    }

    public void setTitle(String Title) {
        this.Title = Title;
    }

    public String getBooks() {
        return Books;
    }

    public void setBooks(String Books) {
        this.Books = Books;
    }

    public String addBookToWish(int ISBN) {
        Books += ISBN;
        return "Book " + Book.query.get(ISBN).getName() + " has been added";
    }

    public String addWishBookToShoppingCart(int ISBN) {
        Books += ISBN;
        return Book.query.get(ISBN).getName() + " was added";
    }

    public String removeBookInList(int ISBN) {
        String newList = "";
        for (int i = 0; i < Books.length(); i++) {
            if (Books.charAt(i) != ISBN) {
                newList += Books.charAt(i);
            }
        }
        if (newList.equals(Books)) {
            return "Book was not found";
        } else {
            Books = newList;
            return Book.query.get(ISBN).getName() + " has been deleted";
        }
    }
}
